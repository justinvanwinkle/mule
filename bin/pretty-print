#!sbcl --script
(IF (> (LENGTH *POSIX-ARGV*) 2)
  (LET ((IN-FN (ELT *POSIX-ARGV* 1))
        (OUT-FN (ELT *POSIX-ARGV* 2))
        (*READTABLE* (COPY-READTABLE NIL)))
    (SETF (READTABLE-CASE *READTABLE*) :PRESERVE)
    (WITH-OPEN-FILE (IN IN-FN)
      (WITH-OPEN-FILE (OUT OUT-FN :DIRECTION :OUTPUT)
        (LOOP FOR FORM = (READ IN NIL :EOF)
           UNTIL (EQ FORM :EOF)
           DO (PPRINT FORM OUT)))))
  (LOOP (PPRINT (READ))))
